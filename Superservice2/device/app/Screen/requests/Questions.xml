<?xml version="1.0" encoding="utf-8" ?>
<c:Screen xmlns:c="BitMobile.Controls" xmlns:s="BitMobile.ValueStack" StyleSheet="Questions.css">
  <s:Push Id="visit" Value="$param1"></s:Push>
  <s:Push Id="cust" Value="$param2"></s:Push>
  <s:Push Id="questions" Value="$GetQuestionsByQuestionnaires($cust)"></s:Push>

  <c:VerticalLayout>

    <c:DockLayout CssClass="top_navigator">
      <c:HorizontalLayout Id="btnBack" CssClass="btn_back" OnEvent="Back">
        <c:Image/>
        <c:TextView Text="#back#"/>
      </c:HorizontalLayout>
      <c:Button Id="btnForward" Text="#forward#" CssClass="btn_forward" OnEvent="Forward"/>
      <c:HorizontalLayout>
        <c:TextView Text="#questions#" />
      </c:HorizontalLayout>
    </c:DockLayout>

   
    <c:HorizontalLine/>

    <c:ScrollView Id="grScrollView">

      <c:HorizontalLayout CssClass="margin_top"></c:HorizontalLayout>
      <c:HorizontalLine/>

        <s:Iterator Id="question" Value="$questions" Status="statusCount">  
        <s:Push Id="questionValue" Value="$CreateVisitQuestionValueIfNotExists($cust,$question.Question)"></s:Push>     
        <s:Push Id="index" Value="{$statusCount.Index}"></s:Push> 
        <s:Push Id="AnswerValue" Value="$question.Answer"></s:Push>

          <c:HorizontalLayout CssClass="grid">
            <c:VerticalLayout >
              <c:TextView Text="$question.Description" CssClass="description_row"></c:TextView>

              <s:If Test="$question.AnswerType=='Integer'">
              <s:If Test="$EmptyString($AnswerValue)">
	          		<c:MemoEdit Id="control{$index}" Value="$question.Answer" Text = "-"  Keyboard="numeric" CssClass="main_row"></c:MemoEdit>
	          	</s:If>
	            <s:Else>
                	<c:MemoEdit Id="control{$index}" Value="$question.Answer" Text = "$question.Answer"  Keyboard="numeric" CssClass="main_row"></c:MemoEdit>
              	</s:Else>
              </s:If>

              <s:If Test="$question.AnswerType=='Decimal'">
              	<s:If Test="$question.Answer==''">
	          		<c:MemoEdit Id="control{$index}" Value="$question.Answer" Text = "-"  Keyboard="numeric" CssClass="main_row"></c:MemoEdit>
	          	</s:If>
	            <s:Else>
                	<c:MemoEdit Id="control{$index}" Value="$question.Answer" Text = "$question.Answer"  Keyboard="numeric" CssClass="main_row"></c:MemoEdit>
              	</s:Else>
              </s:If>

              <s:If Test="$question.AnswerType=='String'">
	          	<s:If Test="$question.Answer==''">
	          		<c:MemoEdit Id="control{$index}" Value="$question.Answer" Text = "-"  CssClass="main_row"></c:MemoEdit>
	          	</s:If>
	            <s:Else>
	            	<c:MemoEdit Id="control{$index}" Value="$question.Answer" Text = "$question.Answer" OnChange="$test()"  CssClass="main_row"></c:MemoEdit>
	            </s:Else>                
              </s:If>

              <s:If Test="$question.AnswerType=='ValueList'">
                <s:If Test="$question.Answer==''">
                  <c:TextView Id="control{$index}" Text="-" CssClass="main_row"></c:TextView>
                </s:If>
                <s:Else>
                  <c:TextView Id="control{$index}" Text="$question.Answer" CssClass="main_row"></c:TextView>
                </s:Else>
              </s:If>

              
              <s:If Test="$question.AnswerType=='DateTime'">
                <s:If Test="$IsNullOrEmpty($question.Answer)">
                  <s:Push Id="answerValue" Value="#clickToInsert#"></s:Push>
                </s:If>
                <s:Else>
                  <s:Push Id="answerValue" Value="$question.Answer"></s:Push>
                </s:Else>
                <c:TextView Id="control{$index}" Text="$answerValue" CssClass="main_row"></c:TextView>
              </s:If>

              <s:If Test="$question.AnswerType=='Boolean'">
               <s:If Test="$EmptyString($AnswerValue)">
	          		<c:TextView Id="control{$index}" Text="-" CssClass="main_row"></c:TextView>
	          	</s:If>
	            <s:Else>
                	<c:TextView Id="control{$index}" Text="$question.Answer" CssClass="main_row"></c:TextView>
                </s:Else>
              </s:If>

            </c:VerticalLayout>
          </c:HorizontalLayout>
          <c:HorizontalLine/>

        </s:Iterator>

    </c:ScrollView>

  </c:VerticalLayout>

</c:Screen>